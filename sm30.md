---
title = "Space Mission 30"
tags = ["docs", "sm30"]
---

![image](/images/layouts/sm30.png)<!-- вставить иллюстрацию с раскладкой для SM30 -->

**Space Mission 30** — механический игровой кейпад, созданный для максимального комфорта и безупречных побед.
<!--
30 программируемых механических клавиш, обеспечивающих естественное положение руки во время игры
Цветной IPS-дисплей, отображающий раскладку, название активного слоя и анимацию космического корабля
Расширенная система слоёв: настройте раскладки под каждую игру через программу Vial, измените названия слоёв — и все обновления появятся прямо на дисплее
Кастомизируемая RGB-подсветка для каждой клавиши
Более 100 макросов для сложных команд
Двойная шумоизоляция для мягкого и приятного звучания нажатий
Возможность установки хотсвап-энкодера для регулировки громкости, навигации или других функций
Встроенное магнитное кольцо для крепления к Универсальной Системе Наклона
Корпус изготовлен из высококачественного пластика (PLA)
Под управлением мощного двухъядерного процессора Arm Cortex M0+
Хотсвап-система для быстрой замены MX-совместимых свитчей
Подключение через Type-C (кабель в комплекте)
Удобное переназначение клавиш и настройка через Vial
3 года гарантии и сервисной поддержки
-->
## Устройство кейпада<!-- вставить иллюстрацию с описанием основных элементов SM30 -->
![image](/images/sm30/sm30_bottom.png)
**1** - кнопка BOOT

**2** - кнопка RESET

**3** - бампоны

**4** - вспомогательное окно для разбора корпуса кейпада

![image](/images/sm30/sm30_top.png)

**5** - USB-C разъем

**6** - дисплей

**7** - место для установки MX-свитча либо хотсвап-энкодера

## Подключение
- Кейпад **Space Mission 30** работает с устройствами под управлением Windows, macOS, Linux, Android, iOS
- Подключение кейпада осущевствляется посредством Plug and Play (PnP), дополнительная **установка драйверов не требуется**
- При подключении к устройству, убедитесь, что кабель USB-C плотно вставлен в разъем кейпада

## Настройка кейпада

### Настройка слоев (раскладок) в Vial
Слои позволяют изменять функциональность кейпада в зависимости от того, на каком **слое** он находится в данный момент

<details>
  <summary>Назначение клавиш для переключения слоя (layers)</summary>

1. **Установите и откройте Vial или используйте веб-версию, подключите кейпад**

Вы можете просмотреть каждый доступный слой, щелкнув соответствующий номер в верхней части интерфейса. **Layer 0** — это ваш базовый/основной слой.

![image](/images/sm30/sm30_layers_1.png)

2. **Выберите слой с которого будет осуществляться активация вашего будущего слоя**

По умолчанию вам доступны базовый слой **Layer 0** и дополнительный слой **Layer 1** (активируется зажатием клавиши **MO(1)**) В данном примере настроим переключение с базового слоя **Layer 0**

![image](/images/sm30/sm30_layers_0.png)

3. **Выберите клавишу, которая будет активирорвать ваш слой и в нижнем меню перейдите во вкладку слоя (layers)**

Переключение между слоями может осуществляться несколькими способами. В нижнем меню выберите вкладку слоя, чтобы просмотреть все различные параметры. 

![image](/images/sm30/sm30_layers_2.png)

4. **Выберите интересующий метод активации слоя и номер слоя который будет задействован**

В данном примере рассмотрим переключение слоя через - **TG(*)**, который активирует слой, если он неактивен, и наоборот
Так как по умолчанию у нас уже есть 2 слоя с раскладкой, то в этом примере настроим 3 слой для новой раскладки, по этому выберем **TG(3)**, где в скобках указан номер переключаемого слоя

![image](/images/sm30/sm30_layers_3.png)

5. **Выберите редактируемый слой и назначьте клавиши/макросы на интересующие кнопки**

Так как мы создаем свой слой под номером 3, то выберем **Layer 3** в верхней части интерфейса. Для начала назначим клавишу для деактивации нашего слоя и возврата на базовый слой **Layer 0**, для этого выберем ту же кнопку на раскладке и снова нажмем на **TG(3)** в нижней вкладке Layers.

![image](/images/sm30/sm30_layers_4.png)

Далее для примера назначим стрелочки на место W, A, S, D, для этого на нашем 3 слое поочередно выбираем место на раскладке и нажимаем на соответсвующие кнопки в нижней вкладке **Basic**

![image](/images/sm30/sm30_layers_5.png)

*P.S. Символ треугольника обозначает пропуск. Это значит, что действие такое же, как и слой под ним. В нашем примере под нашим слоем ***Layer 3*** будет дополнительный слой ***Layer 2*** и нажатия на клавиши с символом треугольника будут вызывать соответствующие действия как на дополнителбном слое*
<!-- MO(*) - моментально активирует слой. Как только вы отпустите клавишу, слой деактивируется
- DF(*) - изменяет, какой слой является слоем по умолчанию. Это остается до тех пор, пока вы не отключите девайс

- TT(*) - Если вы удерживаете клавишу нажатой, слой активируется, а затем деактивируется, когда вы отпускаете (как МО). Если вы несколько раз коснетесь его, слой будет включен или выключен (например, TG). Для этого нужно 5 нажатий
- OSL(*) - моментально активирует слой, пока не будет нажата следующая клавиша
- LT layer (kc) - мгновенно активирует слой, когда он удерживается, отправляет код клавиши при нажатии. Код клавиши можно определить, как и все другие кнопки, просто выберите меньшее поле внутри -->

### Примеры использования слоёв:

- Отдельный слой под раскладки, которые подходят для различных типов игр
- Отдельный слой под макросы, которые помогают быстро отправлять сообщения во внутриигровых чатах, либо использовать комбо

</details>

### Создание макросов
Макросы позволяют отправлять несколько нажатий клавиш при нажатии только одной клавиши. Они могут делать все, что вы хотите: печатать целые предложения, повторять однотипные действия в играх

<details>
  <summary>Macros</summary>

### Конфигурация Macros
Откройте вкладку Macros. Все макросы, которые можно настроить, будут отображаться в виде отдельных вкладок. Выберите макрос, который вы хотите настроить.

Следующим шагом будет добавление действий:
- Add action — вручную добавляет действие в список. Настройте его так, чтобы он делал именно то, что вы хотите. выберите один из вариантов — удерживайте, нажмите, отпустите и задержите.
- Tap Enter — многие макросы заканчиваются клавишей **Enter**, поэтому эта кнопка упрощает их добавление.
- Record macro — позволяет записывать макрос прямо с клавиатуры.


Используйте эти клавиши для добавления действий в список. Они будут выполняться по порядку при активации макроса.
Действия можно изменить с помощью стрелок слева.
Когда вы будете удовлетворены конфигурацией всех макросов, нажмите **Save**, чтобы сохранить все изменения. Если вы хотите вернуться к тому, что уже есть на устройстве, нажмите **Revert**.

### Примеры
- Открыть Панель Задач на Windows зажав Ctrl+Shift и потом нажать Esc:  
![image](/images/vial/vial02.png)  

- Запуск программы в Windows, открыв меню **Пуск**, введя имя программы и нажав Enter:   
![image](/images/vial/vial03.png)  

- Ввод адреса:  
![image](/images/vial/vial04.png)  

### Использование Macros
После настройки макроса его можно использовать. Просто нажмите на клавишу, которую вы хотите использовать для макроса в раскладке, затем выберите ее в нижнем меню на вкладке **Macro**

![image](/images/vial/vial05.png)  

Дополнительную информацию о функции Macros можно найти в официальной [QMK документации](https://docs.qmk.fm/feature_macros)  

</details>

### Настройка RGB подсветки
![image](/images/sm30/sm30_rgb.png)

В **Vial** во вкладке **Lighting** можно кастомизировать подсветку клавиш изменяя следующие параметры:
- **RGB Effect** - позволяет выбрать различные анимации 
- **RGB Color** - настройка цвета подсветки
- **RGB Brighttless** - изменение яркости подсветки
- **RGB Speed** - изменение скорости анимации подсветки

Более подробно о функционале Vial читайте в [статье](/pages/docs/vial) 

## Замена свитчей / установка хотсвап-энкодера

### Извлечение свитча
- **Снимите кейкап (колпачок клавиши):** используйте свитч-пуллер или специальный съемник для кейкапов
- **Извлеките старый свитч:** возьмите съемник для переключателей, захватите им защелки сверху и снизу свитча и аккуратно потяните вверх, пока он не выйдет из гнезда.

### Установка нового свитча
- **Установите новый свитч:** убедитесь, что контакты (пины) нового переключателя ровные и правильно совмещены с отверстиями на плате. Аккуратно вставьте его до щелчка.
- **Верните кейкап на место**

### Установка хотсвап-энкодера
- **Установите хотсвап-энкодер:** убедитесь, что контакты (пины) хотсвап-энкодера правильно совмещены с контактными площадками на плате (контакты энкодера должны быть снизу). Аккуратно вставьте его до щелчка.

## Перепрошивка/обновление встроенного ПО
### Подготовка:
- Скачайте последнюю версию прошивки [здесь](http://github.com/ergohaven/keymap_hub) 
- Сохраните Вашу раскладку в программе Vial, нажав на меню **File**, дальше **Save current layout**

### Установка
Для перепрошивки/обновления встроенного ПО (firmware) кейпад необходимо перевести в режим загрузчика (bootloader), сделать это можно несколькими способами (выберите один):  
1. **Bootmagic:**
    - Зажмите верхнюю левую клавишу на второй строке (в раскладке по умолчанию клавиша Esc) и подключите USB кабель питания
    - Дождитесь когда контроллер перейдёт в режим загрузчика и откроется папка-хранилище

2. **Через кнопку RESET:**
    - Подключите USB кабель питания и быстро нажмите кнопку **RESET** два раза на нижней части кейпада
    - Дождитесь когда контроллер перейдёт в режим загрузчика и откроется папка-хранилище

3. **Через кнопку BOOT:**
    - Зажмите кнопку **BOOT** на нижней части кейпада и подключите USB кабель питания
    - Дождитесь когда контроллер перейдёт в режим загрузчика и откроется папка-хранилище

- Скопируйте или перетащите Uf2 файл, после чего контроллер должен моментально перезагрузиться и начать работать в обычном режиме
- Импортируйте в программу Vial раскладку, нажав на меню **File**, дальше **Load saved layout**  